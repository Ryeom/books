
## 9장 웹 브라우저: 추상적인 가상 머신

웹 브라우저는 단순한 애플리케이션이 아니라, 복잡한 명령어 집합을 소프트웨어로 구현한 **가상 머신(Virtual Machine)**이자 **인터프리터**이다. 이번 장에서는 브라우저가 어떻게 마크업 언어를 해석하고 스타일을 입히며, 자바스크립트를 통해 동적으로 작동하는지 알아본다.

### 1. 마크업 언어 (Markup Language)

마크업은 본문과 구분되는 표식(Mark)을 추가하여 문서의 구조나 형태를 정의하는 시스템이다.
- **역사:** 과거 인쇄공에게 조판 방식을 지시하던 표기법에서 유래했다.
- **종류:**
    - `troff`: 초기에 사용된 조판용 마크업 언어이다.
    - `SGML`: 매우 복잡하고 일반화된 표준 마크업 언어이다.
    - **HTML**: 웹을 위한 하이퍼텍스트 마크업 언어이다.
    - **XML**: SGML의 실용적인 하위 집합으로, 사용자가 직접 태그를 정의할 수 있다.

### 2. URL (Uniform Resource Locator)

브라우저가 서버에 문서를 요청할 때 사용하는 주소 체계이다.

- **구조:** `스킴(https)://호스트(www.example.com)/경로(path/to/page)`
- **스킴(Scheme):** 통신 방식(https, file, bitcoin 등)을 규정한다.

### 3. HTML과 DOM

HTML은 부등호(`<`, `>`)를 사용해 엘리먼트를 정의한다. 브라우저는 이를 읽어 트리 구조인 **DOM(Document Object Model)**을 만든다.
- **예시 코드:** HTML
```
<html>
  <head>
    <title>My First Web Page</title>
  </head>
  <body>
    <b>이것은 굵은 글씨입니다. <big>크게!</big></b>
  </body>
</html>
```

- **엔티티 참조:** `<`나 `&`처럼 특별한 기능이 있는 문자를 텍스트 그대로 표시하려면 `&lt;`나 `&amp;`를 사용해야 한다.
- **트리 구조 용어:** 노드, 루트, 부모, 자식, 형제 등으로 엘리먼트 간의 관계를 설명한다. 브라우저는 이 트리를 **깊이 우선 순회(Depth-First Traversal)**하며 화면을 그린다.

### 4. CSS (Cascading Style Sheets)

문서의 내용(HTML)과 디자인(CSS)을 분리하기 위해 도입됐다. **실렉터(Selector)**를 사용해 특정 엘리먼트를 선택하고 스타일을 적용한다.
- **예시 코드:** CSS
```
/* 모든 body의 글자색을 파란색으로, big 태그의 크기를 2배로 설정 */
body { color: blue; }
big { color: yellow; font-size: 200%; }
```

### 5. XML과 이름 공간

XML은 데이터를 구조화하는 데 유연하지만, 서로 다른 언어에서 같은 태그 이름(예: `<name>`)을 쓸 때 충돌이 발생할 수 있다. 이를 해결하기 위해 **이름 공간(Namespace)**을 사용한다.

- **예시 코드 (이름 공간 사용):** XML
```
<xml xmlns:vml="http://www.garden.org" xmlns:rml="http://www.recipe.org">
  <vml:name>tomato</vml:name> <rml:name>Tomato Salad</rml:name> </xml>
```

### 6. 자바스크립트와 동적 웹

정적인 웹 페이지에 생동감을 불어넣기 위해 도입된 언어이다. 브라우저에서 실행되며 DOM을 직접 조작할 수 있다.

- **AJAX:** 페이지 전체를 새로고침하지 않고도 서버와 비동기적으로 데이터를 주고받는 기술이다.
- **jQuery:** 브라우저마다 다른 DOM 조작 방식을 통일하고, 복잡한 코드를 간결하게 줄여주는 라이브러리이다.

JavaScript

```
// jQuery 예시: 모든 p 태그를 숨김
$("p").hide();
```

### 7. 그래픽과 최신 기술
- **SVG:** XML 기반의 벡터 그래픽으로, DOM의 일부로서 조작 가능하다.
- **Canvas:** 자바스크립트를 통해 픽셀을 직접 그리는 방식으로, 복잡한 그래픽 처리에 유리하다.
- **HTML5:** `<video>`, `<audio>` 등 미디어 태그와 시맨틱 엘리먼트(`<header>`, `<footer>`)가 추가된 최신 표준이다.
- **JSON:** 자바스크립트 객체 표기법으로, 현재 XML을 대신해 데이터 교환에 가장 널리 쓰인다.

**정리:** 웹 브라우저는 네트워크, 언어 파서, 그래픽 엔진, 인터프리터가 결합된 정교한 시스템이다. 각 기술이 호환성을 유지하거나 때로는 중복된 기능을 제공하며 발전해 왔다.
