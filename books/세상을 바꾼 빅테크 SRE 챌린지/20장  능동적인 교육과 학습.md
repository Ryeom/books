
이 장은 SRE의 중요한 목표인 **신뢰성**을 **가용성**뿐만 아니라 **데이터 내구성(durability)** 측면에서 심층적으로 다룬다. 데이터 손실은 기업에 치명적이므로, 예측 불가능한 장애에 대비한 내구성 확보의 중요성을 강조한다.

#### **1. 내구성 추정치와 현실의 괴리**
이론적인 복제 수치(마르코프 모델)를 통해 매우 높은 내구성을 계산할 수 있지만, 이는 일상적인 디스크 장애만을 고려한 것이다. 현실에서는 **운영자의 실수, 소프트웨어 버그, 논리적 손상 전파**와 같은 예측 불가능한 **블랙스완(black swan)** 사건으로 데이터가 손실될 가능성이 더 크다. 진정한 SRE 작업은 이러한 `알 수 없는 미래의 장애`로부터 시스템을 보호하는 데 중점을 둔다.

#### **2. 내구성을 위한 4가지 핵심 전략**
이러한 위협에 대비하여 드롭박스는 4가지 핵심 전략을 제시한다.

* **격리(Isolation):** 장애가 시스템 전체로 퍼지는 것을 막기 위해 **물리적, 논리적, 운영적** 경계를 철저히 나눈다. 특히 운영자의 실수를 방지하기 위해 배포 프로세스를 여러 단계로 분리하고 자동화한다.
* **보호(Protection):** 운영자의 실수로부터 시스템을 보호하는 안전장치를 마련한다. **단위 테스트**를 넘어선 **종단 간 통합 테스트**와 **결함 주입(fault injection)**을 통해 잠재적 에러를 사전에 발견하고, 장애 발생 시 **"실행 취소"** 버튼처럼 되돌릴 수 있는 복구 메커니즘을 시스템에 내장한다.
* **검증(Validation):** 시스템의 데이터 일관성에 대한 확신을 갖기 위해 지속적인 검증이 필요하다. **디스크 스크러버**와 같은 시스템을 통해 데이터 손상을 감지하고, 검증 시스템 자체의 신뢰성도 확보해야 한다.
* **자동화(Automation):** 사람의 개입을 줄여 정확성과 신뢰성을 높인다. 자동화는 장애 발생 시 **복구 시간(MTTR)**을 단축하여 연쇄 장애를 막고, 운영자의 피로도를 감소시켜 더 중요한 문제에 집중하게 한다.

결론적으로, 진정한 데이터 내구성은 이론적인 복제 수치에 의존하는 것이 아니라, 예측 불가능한 사고에 대비한 **격리, 보호, 검증, 자동화**를 통합하는 것이다.

---

## **주요 용어 정리**

* **삭제 코딩(Erasure Coding):** 데이터 저장 공간의 효율성을 높이기 위해 데이터를 인코딩하여 저장하고, 데이터 손실 시 복구하는 고급 복제 방식이다.
* **블랙스완(Black Swan):** 예측 불가능한 이례적인 사건. 시스템의 내구성을 위협하는 가장 큰 요소로 언급된다.
* **마르코프 모델(Markov Model):** 시스템의 상태 변화를 확률적으로 예측하는 수학적 모델. 내구성 추정에 활용되지만, 현실의 모든 위험을 반영하기는 어렵다.
* **MTTF (Mean Time to Failure):** 평균 고장 시간.
* **MTTR (Mean Time to Recovery):** 평균 복구 시간.
* **결함 주입(Fault Injection):** 시스템의 결함을 인위적으로 발생시켜 예외 상황에 대한 반응을 테스트하는 검증 방법이다.
* **디스크 스크러버(Disk Scrubber):** 디스크의 각 블록을 지속적으로 읽고 검증하여 데이터 손상을 감지하는 시스템.
* **인덱스 검색자(Index Scanner):** 저장소의 메타데이터와 실제 저장된 데이터가 일치하는지 확인하는 검증 시스템이다.