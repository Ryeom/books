## 3.1 낭비 제거 이상의 최적화는 제로섬 게임
- 최적화란 자원 사용을 줄이고 실행 속도를 향상시키는 작업.
- 소프트웨어 효율성을 높이기 위해선 **낭비 제거**와 **트레이드오프**를 이해해야 함.
- 합리적 최적화:
  - 명백한 낭비 제거, 소프트웨어 품질 희생 없음.
  - 예) 불필요한 디버그 코드 제거, 검증된 입력에 반복 검사 제거.
- 의도적 최적화:
  - 자원 간의 균형 조정을 통해 특정 자원을 최적화.
  - 예) 캐시 도입으로 레이턴시 감소, 메모리 사용 증가.

## 3.2 최적화 작업의 어려움
- **주요 도전 과제**:
  - 개발자들은 병목 지점을 예측하기 어려움.
  - 자원 사용량을 정확히 추정하지 못함.
  - 시간이 지날수록 환경 변화로 성능 유지 어려움.
  - 성능 검증은 어렵고 오류 발생 가능성 높음.
- **Go 언어의 특성**:
  - 가비지 컬렉션으로 메모리 관리 효율화, 하지만 세밀한 제어는 어렵다.

## 3.3 목표에 대한 확실한 이해
- 효율성 목표 설정은 최적화의 기본.
- **효율성 요구사항 템플릿 (RAER)**:
  - 프로그램, 작업, 데이터셋, 레이턴시, 자원 사용량 명시.
- **RAER 예시**:
  - 작업: HTTP로 경고 규칙 가져오기.
  - 데이터셋: 100개 테넌트, 테넌트당 1000개 규칙.
  - 최대 레이턴시: 90th 퍼센타일에서 2초.
  - CPU 제한: 2 코어.
  - 메모리 제한: 500MB.

## 3.4 효율성 문제에 대처하는 태도
- 문제 발생 시 **비난 없는 문화** 조성 필요.
- **6단계 절차**:
  1. 문제 보고.
  2. 중복 이슈 확인.
  3. 사용 환경 검증.
  4. 효율성 요구사항 검증.
  5. 문제 인정 및 개선 계획.
  6. 모든 이슈 해결.

## 3.5 최적화 설계 수준
- 소프트웨어는 다양한 수준에서 최적화 가능:
  - **시스템**: 모듈과 API 간 상호작용 최적화.
  - **알고리즘 및 자료구조**: 효율적 문제 해결 방안 선택.
  - **코드 실행**: 컴파일러 및 실행 코드 최적화.
  - **운영체제**: 자원 사용 관리.
  - **하드웨어**: 하드웨어 조건 최적화.

## 3.6 효율성 인식 개발 절차
- **TFBO 절차 (테스트, 수정, 벤치마크, 최적화)**:
  1. **기능 구성 단계**:
     - 기능 설계, 테스트 작성, 요구사항 충족 여부 확인.
  2. **효율성 단계**:
     - 벤치마크로 자원 사용량 및 속도 평가.
     - 병목 지점 파악 후 최적화.
  3. **배포 단계**:
     - 최적화 완료 후 배포 및 유지 관리.

## 3.7 마치며
- 최적화는 신중한 분석과 반복 작업을 요구.
- **핵심 내용**:
  - 낭비를 줄이고 의도적인 트레이드오프를 활용.
  - RAER로 효율성 목표를 구체화.
  - 효율성 문제는 체계적으로 접근.
  - TFBO 절차를 통해 효과적인 개발 진행.

> "효율성 최적화는 신속한 문제 인식과 체계적인 해결 방법을 요구하며, 합리적인 접근이 핵심이다."
